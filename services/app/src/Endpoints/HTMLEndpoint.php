<?php

require_once("Endpoint.php");

abstract class HTMLEndpoint extends Endpoint
{
    public function _render()
    {

?>
        <html>

        <head>
            <meta charset="utf-8">
            <meta name="viewport" content="width=device-width">
            <title>Immo Inc. - Immobilienportal</title>
            <link rel="icon" href="/assets/images/favicon.svg">
            <?php
            foreach (glob(__DIR__ . "/../assets/css/*.css") as $filename) {
            ?>
                <style>
                    <?php echo file_get_contents($filename) ?>
                </style>
            <?php
            }
            ?>
            <link rel="preconnect" href="https://fonts.gstatic.com">
        </head>

        <body>
            <div class="header">
                <a href="/" class="logo">
                    <svg xmlns="http://www.w3.org/2000/svg" width="76.672" height="42.114" viewBox="0 0 76.672 42.114">
                        <g id="Component_3_2" data-name="Component 3 – 2" transform="translate(0.5 0.555)">
                            <g id="Exclusion_3" data-name="Exclusion 3" transform="translate(1598 7943)">
                                <path d="M -1522.077758789062 -7901.70751953125 L -1522.344604492188 -7901.7255859375 L -1546.600341796875 -7903.3623046875 L -1546.833618164062 -7903.3779296875 L -1546.83349609375 -7903.61181640625 L -1546.833251953125 -7904.09521484375 L -1555.829833984375 -7904.9453125 L -1558.152221679688 -7904.08837890625 L -1558.1865234375 -7904.07568359375 L -1558.223022460938 -7904.0732421875 L -1569.344360351562 -7903.3720703125 L -1569.96337890625 -7901.8779296875 L -1570.02734375 -7901.7236328125 L -1570.1943359375 -7901.7236328125 L -1570.195190429688 -7901.7236328125 L -1573.061645507812 -7901.7236328125 L -1573.06982421875 -7901.7236328125 L -1573.078002929688 -7901.72412109375 L -1598.015991210938 -7903.3623046875 L -1598.249633789062 -7903.3779296875 L -1598.249633789062 -7903.61181640625 L -1598.249389648438 -7924.353515625 L -1598.249389648438 -7924.572265625 L -1598.032470703125 -7924.6015625 L -1582.195434570312 -7926.712890625 L -1582.195434570312 -7935.12841796875 L -1582.195434570312 -7935.32958984375 L -1581.9990234375 -7935.37255859375 L -1546.097290039062 -7943.244140625 L -1545.9462890625 -7943.27734375 L -1545.849243164062 -7943.1572265625 L -1540.794555664062 -7936.89794921875 L -1522.380126953125 -7940.84130859375 L -1522.077758789062 -7940.90576171875 L -1522.077758789062 -7940.5966796875 L -1522.077758789062 -7901.97509765625 L -1522.077758789062 -7901.70751953125 Z M -1568.847900390625 -7917.482421875 L -1568.847900390625 -7904.4248046875 L -1558.392944335938 -7905.39111328125 L -1558.392944335938 -7915.5341796875 L -1568.847900390625 -7917.482421875 Z M -1554.447021484375 -7906.33056640625 L -1547.190063476562 -7905.685546875 L -1547.190063476562 -7915.70947265625 L -1554.447021484375 -7915.29833984375 L -1554.447021484375 -7906.33056640625 Z M -1547.32763671875 -7921.7587890625 L -1547.318969726562 -7921.7587890625 L -1547.318359375 -7921.7587890625 L -1547.269165039062 -7921.7587890625 L -1547.223388671875 -7921.740234375 L -1543.300537109375 -7920.13525390625 L -1543.300537109375 -7932.5947265625 L -1547.391967773438 -7936.2470703125 L -1578.806762695312 -7930.04541015625 L -1578.806762695312 -7927.494140625 L -1572.630615234375 -7928.240234375 L -1572.579833984375 -7928.24658203125 L -1572.53076171875 -7928.232421875 L -1561.088134765625 -7924.90283203125 L -1560.907958984375 -7924.85009765625 L -1560.907958984375 -7924.66259765625 L -1560.907958984375 -7920.81591796875 L -1547.336303710938 -7921.75830078125 L -1547.32763671875 -7921.7587890625 Z" stroke="none" />
                                <path d="M -1570.1943359375 -7901.9736328125 L -1569.515625 -7903.61181640625 L -1558.23876953125 -7904.32275390625 L -1555.863037109375 -7905.19970703125 L -1546.583129882812 -7904.32275390625 L -1546.58349609375 -7903.61181640625 L -1522.327758789062 -7901.97509765625 L -1522.327758789062 -7940.5966796875 L -1540.892456054688 -7936.62109375 L -1546.043701171875 -7943 L -1581.945434570312 -7935.12841796875 L -1581.945434570312 -7926.494140625 L -1597.999389648438 -7924.353515625 L -1597.999633789062 -7903.61181640625 L -1573.061645507812 -7901.9736328125 L -1570.196166992188 -7901.9736328125 L -1570.195190429688 -7901.9736328125 L -1570.1943359375 -7901.9736328125 M -1569.097900390625 -7917.783203125 L -1569.098510742188 -7917.783203125 L -1569.097900390625 -7917.783203125 L -1569.097900390625 -7917.783203125 L -1558.142944335938 -7915.74169921875 L -1558.142944335938 -7905.1630859375 L -1569.097900390625 -7904.150390625 L -1569.097900390625 -7917.783203125 M -1546.940063476562 -7915.97412109375 L -1546.940063476562 -7905.412109375 L -1554.697021484375 -7906.10205078125 L -1554.697021484375 -7915.53466796875 L -1546.940063476562 -7915.97412109375 M -1547.318969726562 -7921.5087890625 L -1561.157958984375 -7920.5478515625 L -1561.157958984375 -7924.66259765625 L -1572.6005859375 -7927.9921875 L -1579.056762695312 -7927.2119140625 L -1579.056762695312 -7930.2509765625 L -1547.318359375 -7936.5166015625 L -1543.050537109375 -7932.70654296875 L -1543.050537109375 -7919.7626953125 L -1547.318115234375 -7921.5087890625 L -1547.318359375 -7921.5087890625 L -1547.318969726562 -7921.5087890625 M -1521.827758789062 -7901.4404296875 L -1522.361450195312 -7901.47607421875 L -1546.6171875 -7903.11279296875 L -1547.083740234375 -7903.14453125 L -1547.08349609375 -7903.6123046875 L -1547.083374023438 -7903.86767578125 L -1555.796752929688 -7904.69140625 L -1558.065673828125 -7903.853515625 L -1558.13427734375 -7903.828125 L -1558.207275390625 -7903.82373046875 L -1569.172973632812 -7903.13232421875 L -1569.732421875 -7901.7822265625 L -1569.860229492188 -7901.4736328125 L -1570.1943359375 -7901.4736328125 L -1570.195190429688 -7901.4736328125 L -1573.061645507812 -7901.4736328125 L -1573.078002929688 -7901.4736328125 L -1573.094360351562 -7901.474609375 L -1598.032348632812 -7903.11279296875 L -1598.499633789062 -7903.1435546875 L -1598.499633789062 -7903.61181640625 L -1598.499389648438 -7924.353515625 L -1598.499389648438 -7924.79150390625 L -1598.0654296875 -7924.84912109375 L -1582.445434570312 -7926.93212890625 L -1582.445434570312 -7935.12841796875 L -1582.445434570312 -7935.53076171875 L -1582.052490234375 -7935.61669921875 L -1546.150756835938 -7943.48828125 L -1545.848876953125 -7943.5546875 L -1545.654663085938 -7943.31396484375 L -1540.696533203125 -7937.17431640625 L -1522.432495117188 -7941.08544921875 L -1521.827758789062 -7941.21484375 L -1521.827758789062 -7940.5966796875 L -1521.827758789062 -7901.97509765625 L -1521.827758789062 -7901.4404296875 Z M -1568.597900390625 -7917.18115234375 L -1568.597900390625 -7904.69873046875 L -1558.642944335938 -7905.619140625 L -1558.642944335938 -7915.326171875 L -1568.597900390625 -7917.18115234375 Z M -1554.197021484375 -7906.5595703125 L -1547.440063476562 -7905.95849609375 L -1547.440063476562 -7915.44482421875 L -1554.197021484375 -7915.06201171875 L -1554.197021484375 -7906.5595703125 Z M -1547.336303710938 -7922.0087890625 L -1547.318969726562 -7922.0087890625 L -1547.318359375 -7922.0087890625 L -1547.219970703125 -7922.0087890625 L -1547.128784179688 -7921.9716796875 L -1543.550537109375 -7920.50732421875 L -1543.550537109375 -7932.482421875 L -1547.465698242188 -7935.97802734375 L -1578.556762695312 -7929.83984375 L -1578.556762695312 -7927.77587890625 L -1572.660522460938 -7928.48876953125 L -1572.55908203125 -7928.5009765625 L -1572.4609375 -7928.47216796875 L -1561.018310546875 -7925.142578125 L -1560.657958984375 -7925.0380859375 L -1560.657958984375 -7924.66259765625 L -1560.657958984375 -7921.083984375 L -1547.353637695312 -7922.0078125 L -1547.336303710938 -7922.0087890625 Z" stroke="none" />
                            </g>
                        </g>
                    </svg>
                    <span class="name">Immo Inc.</span>
                </a>
                <div class="links-wrapper hidden">
                    <div class="links">
                        <a href="/" class="link">
                            <span class="name">Immobiliensuche</span>
                        </a>
                        <a href="/imprint" class="link">
                            <span class="name">Impressum</span>
                        </a>
                        <?php
                        try {
                            if (!isset($_SESSION["userId"])) throw new Exception("Not logged in");
                            $user = Database::getInstance()->getUser($_SESSION["userId"]);
                        } catch (Exception $err) {
                        ?>
                            <a href="/login" class="link colorful">
                                <span class="name">Anmelden</span>
                            </a>
                        <?php
                        }
                        ?>
                    </div>
                </div>
                <div class="menu-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24">
                        <path d="M0 0h24v24H0z" fill="none" />
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" />
                    </svg>
                </div>
            </div>
            <div class="content">
                <?php $this->render() ?>
            </div>
            <div class="footer">
                <div class="wrapper">
                    <p><a href="/imprint">Impressum</a></p>
                    <p><a href="/login">Anmelden</a></p>
                    <p><a href="/imprint#data-protection">Datenschutzerklärung</a></p>
                    <p><a href="mailto:info@immoinc.com">info@immoinc.com</a> • <a href="tel:+49800XXXXXX">+49 800 XXXXXX</a></p>
                    <div class="seperator-line"></div>
                    <p>Immo Inc. ® 2020</p>
                </div>
            </div>

            <?php
            foreach (glob(__DIR__ . "/../assets/js/*.js") as $filename) {
            ?>
                <script>
                    <?php echo file_get_contents($filename) ?>
                </script>
            <?php
            }
            ?>
        </body>

        </html>
<?php
    }
}
